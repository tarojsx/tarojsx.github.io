(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{574:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return h})),r.d(t,"metadata",(function(){return d})),r.d(t,"rightToc",(function(){return p})),r.d(t,"default",(function(){return g}));var n=r(939),a=r.n(n),i=(r(817),r(779)),o=r(1),c=r(21),l=(r(0),r(732)),s=r(866),u=r(730),f=r(745),h={id:"react-spring",title:"react-spring",sidebar_label:"react-spring"},d={id:"library/docs/react-spring",isDocsHomePage:!1,title:"react-spring",description:"react-spring",source:"@site/docs/library/docs/react-spring.mdx",permalink:"/docs/library/docs/react-spring",sidebar_label:"react-spring",sidebar:"Library",previous:{title:"react-vtree",permalink:"/docs/library/docs/react-vtree"},next:{title:"react-use-gesture",permalink:"/docs/library/docs/react-use-gesture"}},p=[{value:"react-spring",id:"react-spring",children:[{value:"\u9700\u6c42",id:"\u9700\u6c42",children:[]},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",children:[]}]}],m={rightToc:p};function g(e){var t=e.components,r=Object(c.a)(e,["components"]);return Object(l.b)("wrapper",Object(o.a)({},m,r,{components:t,mdxType:"MDXLayout"}),Object(l.b)("h2",{id:"react-spring"},Object(l.b)("a",Object(o.a)({parentName:"h2"},{href:"https://github.com/react-spring/react-spring"}),"react-spring")),Object(l.b)("h3",{id:"\u9700\u6c42"},"\u9700\u6c42"),Object(l.b)("ul",null,Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"requestAnimationFrame")),Object(l.b)("li",{parentName:"ul"},Object(l.b)("inlineCode",{parentName:"li"},"performance.now"))),Object(l.b)("h3",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),Object(l.b)("pre",null,Object(l.b)("code",Object(o.a)({parentName:"pre"},{className:"language-jsx"}),"import React from 'react'\nimport { animated, useSpring } from '@tarojsx/library/dist/react-spring'\n\nconst Demo = () => {\n    const spring = useSpring({\n        to: async (next, cancel) => {\n            while (true) {\n                await next({ opacity: 1, color: '#ffaaee' })\n                await next({ opacity: 0.5, color: 'rgb(14,26,19)' })\n            }\n        },\n    })\n\n    return <animated.View style={spring}>Hello spring</animated.View>\n}\n")),Object(l.b)(f.a,{phone:!0,title:"Spring",mdxType:"UI"},(function(){var e,t,r,n=Object(s.useSpring)({to:(e=Object(i.a)(a.a.mark((function e(t,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t({opacity:1,color:"#ffaaee",fontSize:60,textAlign:"center"});case 3:return e.next=5,t({opacity:.5,color:"rgb(14,26,19)"});case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)}))),function(t,r){return e.apply(this,arguments)})}),o=Object(s.useSpring)({to:(t=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t({number:1});case 3:return e.next=5,t({number:0});case 5:e.next=0;break;case 7:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}),c=Object(s.useSpring)({from:{position:"relative",willChange:"width, height, left, top",left:"0%",top:"0%",width:"0%",height:"0%",background:"lightgreen"},to:(r=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,t({left:"0%",top:"0%",width:"100%",height:"100%",background:"lightblue"});case 3:return e.next=5,t({height:"50%",background:"lightgreen"});case 5:return e.next=7,t({width:"50%",left:"50%",background:"lightgoldenrodyellow"});case 7:return e.next=9,t({top:"0%",height:"100%",background:"lightpink"});case 9:return e.next=11,t({top:"50%",height:"50%",background:"lightsalmon"});case 11:return e.next=13,t({width:"100%",left:"0%",background:"lightcoral"});case 13:return e.next=15,t({width:"50%",background:"lightseagreen"});case 15:return e.next=17,t({top:"0%",height:"100%",background:"lightskyblue"});case 17:return e.next=19,t({width:"100%",background:"lightslategrey"});case 19:e.next=0;break;case 21:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})});return Object(l.b)(u.m,{mdxType:"View"},Object(l.b)(s.animated.View,{style:n},"Hello spring"),Object(l.b)(s.animated.View,{style:{textAlign:"center"}},o.number),Object(l.b)(u.m,{style:{position:"relative",overflow:"hidden",width:"750px",height:"750px",backgroundColor:"#f0f0f0"},mdxType:"View"},Object(l.b)(s.animated.View,{style:c})))})))}g.isMDXComponent=!0},743:function(e,t,r){},744:function(e,t,r){e.exports={ui:"ui_126w",block:"block_Tka-",content:"content_2Qgg"}},745:function(e,t,r){"use strict";r.d(t,"a",(function(){return y}));var n=r(733),a=r(1),i=r(781),o=r(782),c=r(0),l=r.n(c),s=r(741),u=r.n(s),f=r(742),h=r(740);const d=()=>{const e=new Date,t=e=>e.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}`},p=e=>{const{className:t,title:r="",frontColor:n="#ffffff",backgroundColor:a="#000000",back:i=!1,time:o=""}=e,s="#ffffff"===n.toLowerCase(),u="miniprogramNavigationStatusBarTime";return Object(c.useEffect)(()=>{const e=!o&&setInterval(()=>{try{document.getElementById(u).innerHTML=d()}catch(e){}},500);return()=>clearInterval(e)},[o]),l.a.createElement("svg",{className:t,width:"750",height:"176",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("g",{fill:"none",fillRule:"evenodd"},l.a.createElement("path",{d:"M0 0h750v176H0z",fill:a,fillOpacity:".9"}),l.a.createElement("path",{d:"M0 175h750v1H0z",fill:"#000",fillOpacity:".1"}),l.a.createElement("g",{fill:n,fontFamily:"Helvetica",fontSize:"30",fontWeight:"bold"},l.a.createElement("text",{transform:"translate(42 28)"},l.a.createElement("tspan",{id:u,x:"26.006",y:"29.66"},o||d()))),l.a.createElement("path",{d:"M680.085 38.667h29.163c1.189 0 1.62.123 2.054.356.435.232.776.573 1.008 1.008.233.434.357.865.357 2.054v7.83c0 1.189-.124 1.62-.357 2.054a2.423 2.423 0 01-1.008 1.008c-.434.233-.865.356-2.054.356h-29.163c-1.189 0-1.62-.123-2.054-.356a2.423 2.423 0 01-1.008-1.008c-.233-.434-.356-.865-.356-2.054v-7.83c0-1.189.123-1.62.356-2.054a2.423 2.423 0 011.008-1.008c.434-.233.865-.356 2.054-.356zM647.334 39.23c4.45 0 8.729 1.709 11.954 4.772a.619.619 0 00.87-.007l2.321-2.34a.645.645 0 00-.005-.915c-8.464-8.105-21.817-8.105-30.28 0a.645.645 0 00-.007.915l2.322 2.34c.24.24.628.244.87.007a17.359 17.359 0 0111.955-4.772zm0 7.615c2.445 0 4.802.908 6.614 2.548a.624.624 0 00.87-.012l2.32-2.34a.647.647 0 00-.01-.921c-5.519-5.129-14.064-5.129-19.583 0a.646.646 0 00-.008.92l2.317 2.341a.624.624 0 00.87.012 9.858 9.858 0 016.61-2.548zm4.456 5.587a.63.63 0 00-.019-.917 6.875 6.875 0 00-8.874 0 .63.63 0 00-.02.917l4.012 4.044a.626.626 0 00.89 0l4.01-4.044zM590 48.667h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2v-4a2 2 0 012-2zm9.333-4h2a2 2 0 012 2v8a2 2 0 01-2 2h-2a2 2 0 01-2-2v-8a2 2 0 012-2zM608.667 40h2a2 2 0 012 2v12.667a2 2 0 01-2 2h-2a2 2 0 01-2-2V42a2 2 0 012-2zM618 35.333h2a2 2 0 012 2v17.334a2 2 0 01-2 2h-2a2 2 0 01-2-2V37.333a2 2 0 012-2z",fill:n,fillRule:"nonzero"}),l.a.createElement("path",{d:"M709.83 35.667h-30.326c-2.095 0-2.868.182-3.637.594a3.86 3.86 0 00-1.606 1.606c-.412.77-.594 1.543-.594 3.637v8.992c0 2.094.182 2.868.594 3.637a3.86 3.86 0 001.606 1.606c.769.412 1.542.594 3.637.594h30.326c2.094 0 2.867-.182 3.637-.594a3.86 3.86 0 001.605-1.606c.412-.77.595-1.543.595-3.637v-8.992c0-2.094-.183-2.868-.595-3.637a3.86 3.86 0 00-1.605-1.606c-.77-.412-1.543-.594-3.637-.594z",stroke:n,strokeWidth:"2",opacity:".35"}),l.a.createElement("path",{d:"M718.667 42v8a4.34 4.34 0 000-8",fill:n,fillRule:"nonzero",opacity:".4"}),!!i&&l.a.createElement("path",{d:"M52 146.875L49.91 149l-15.331-15.58a2.031 2.031 0 010-2.84L49.909 115 52 117.125 37.363 132 52 146.875z",fill:n,fillOpacity:"0.9"}),l.a.createElement("text",{transform:"translate(375 144)",fill:n,textAnchor:"middle",fontFamily:"PingFangSC-Regular, PingFang SC",fontSize:"34",fontWeight:"bold",opacity:".9"},r),l.a.createElement("g",{transform:"translate(564 100)"},l.a.createElement("rect",{strokeOpacity:".201",stroke:"#979797",fillOpacity:".597",fill:s?"rgba(0,0,0,.25)":"#fff",x:".5",y:".5",width:"173",height:"63",rx:"31.5"}),l.a.createElement("path",{d:"M45.5 26a6.5 6.5 0 110 13 6.5 6.5 0 010-13zM31 29a4 4 0 110 8 4 4 0 010-8zm29 0a4 4 0 110 8 4 4 0 010-8z",fill:n}),l.a.createElement("path",{fillOpacity:".199",fill:n,d:"M87 13h1v37h-1z"}),l.a.createElement("path",{d:"M130.819 14.667c8.903 0 16.514 7.61 16.514 16.514 0 9.875-7.61 17.486-16.514 17.486-9.875 0-17.486-7.611-17.486-17.486 0-8.903 7.611-16.514 17.486-16.514zm-.004 4c-7.661 0-13.482 5.82-13.482 13.481 0 6.698 5.82 12.519 13.482 12.519 6.698 0 12.518-5.82 12.518-12.519 0-7.661-5.82-13.481-12.518-13.481zm-.482 7a6 6 0 110 12 6 6 0 010-12z",fill:n}))))};r(743);const m=e=>{const{className:t,style:r,frontColor:n="#ffffff",backgroundColor:i="#6190E8",...o}=e;return l.a.createElement("div",{className:u()("phone",t),style:r},l.a.createElement("div",{className:"marvel-device iphone-x"},l.a.createElement("div",{className:"notch"},l.a.createElement("div",{className:"camera"}),l.a.createElement("div",{className:"speaker"})),l.a.createElement("div",{className:"top-bar"}),l.a.createElement("div",{className:"sleep"}),l.a.createElement("div",{className:"bottom-bar"}),l.a.createElement("div",{className:"volume"}),l.a.createElement("div",{className:"overflow"},l.a.createElement("div",{className:"shadow shadow--tr"}),l.a.createElement("div",{className:"shadow shadow--tl"}),l.a.createElement("div",{className:"shadow shadow--br"}),l.a.createElement("div",{className:"shadow shadow--bl"})),l.a.createElement("div",{className:"inner-shadow"}),l.a.createElement("div",{className:"screen"},l.a.createElement(p,Object(a.a)({className:"miniprogram-navigation",frontColor:n,backgroundColor:i},o)),l.a.createElement("div",{className:"content"},Object(f.render)(e,{isPhone:!0})))))};var g=r(744),v=r.n(g),y=function(e){var t=e.className,r=e.style,s=void 0===r?{}:r,d=e.block,p=e.phone,g=Object(o.a)(e,["className","style","block","phone"]),y=function(){var e=Object(c.useState)("40px"),t=Object(h.a)(e,2),r=t[0],n=t[1];return Object(c.useEffect)((function(){if("undefined"!=typeof window){var e=function(){var e=window.document.documentElement.getBoundingClientRect().width;n(e>=640?"40px":e<=320?"20px":e/320*20+"px")};return window.addEventListener("resize",e),window.removeEventListener("resize",e)}}),[]),r}();return p?l.a.createElement(m,Object(a.a)({className:t,style:Object(i.a)({fontSize:y},s)},g)):l.a.createElement("div",{className:u()(v.a.ui,Object(n.a)({},v.a.block,d),t),style:Object(i.a)({fontSize:y},s)},l.a.createElement("div",{className:v.a.content},Object(f.render)(e,{isBlock:d})))}},779:function(e,t,r){"use strict";function n(e,t,r,n,a,i,o){try{var c=e[i](o),l=c.value}catch(s){return void r(s)}c.done?t(l):Promise.resolve(l).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function c(e){n(o,a,i,c,l,"next",e)}function l(e){n(o,a,i,c,l,"throw",e)}c(void 0)}))}}r.d(t,"a",(function(){return a}))},817:function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function c(e,t,r,n){var a=t&&t.prototype instanceof u?t:u,i=Object.create(a.prototype),o=new E(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(a,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw i;return j()}for(r.method=a,r.arg=i;;){var o=r.delegate;if(o){var c=b(o,r);if(c){if(c===s)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===s)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,o),i}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=c;var s={};function u(){}function f(){}function h(){}var d={};d[a]=function(){return this};var p=Object.getPrototypeOf,m=p&&p(p(O([])));m&&m!==t&&r.call(m,a)&&(d=m);var g=h.prototype=u.prototype=Object.create(d);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e,t){var n;this._invoke=function(a,i){function o(){return new t((function(n,o){!function n(a,i,o,c){var s=l(e[a],e,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,c)}),(function(e){n("throw",e,o,c)})):t.resolve(f).then((function(e){u.value=e,o(u)}),(function(e){return n("throw",e,o,c)}))}c(s.arg)}(a,i,n,o)}))}return n=n?n.then(o,o):o()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:j}}function j(){return{value:void 0,done:!0}}return f.prototype=g.constructor=h,h.constructor=f,h[o]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(y.prototype),y.prototype[i]=function(){return this},e.AsyncIterator=y,e.async=function(t,r,n,a,i){void 0===i&&(i=Promise);var o=new y(c(t,r,n,a),i);return e.isGeneratorFunction(r)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},v(g),g[o]="Generator",g[a]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,s):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;x(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=n}catch(a){Function("r","regeneratorRuntime = r")(n)}},828:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r(902);for(var n=r(863),a=r(914),i={View:n.d,Text:n.c,Image:n.b},o=a.animated,c=0,l=Object.keys(i);c<l.length;c++){var s=l[c],u=i[s];o[s]=o(u)}},866:function(e,t,r){"use strict";var n=r(810);r.o(n,"animated")&&r.d(t,"animated",(function(){return n.animated})),r.o(n,"useSpring")&&r.d(t,"useSpring",(function(){return n.useSpring})),r.o(n,"useSprings")&&r.d(t,"useSprings",(function(){return n.useSprings}));var a=r(828);r.d(t,"animated",(function(){return a.a}))},939:function(e,t,r){e.exports=r(817)}}]);