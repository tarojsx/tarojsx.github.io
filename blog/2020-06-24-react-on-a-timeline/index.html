<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.58">
<title data-react-helmet="true">React 时间简史 | TaroX</title><meta data-react-helmet="true" property="og:title" content="React 时间简史 | TaroX"><meta data-react-helmet="true" name="description" content="Frameworks"><meta data-react-helmet="true" property="og:description" content="Frameworks"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.318da8f0.css">
<link rel="stylesheet" href="/main.2901c7f1.css">
<link rel="preload" href="/styles.088cfec4.js" as="script">
<link rel="preload" href="/runtime~main.4349dcc8.js" as="script">
<link rel="preload" href="/main.556369d5.js" as="script">
<link rel="preload" href="/3.9752c933.js" as="script">
<link rel="preload" href="/4.72d3c8a6.js" as="script">
<link rel="preload" href="/5.77d0b82f.js" as="script">
<link rel="preload" href="/ccc49370.b0faf68c.js" as="script">
<link rel="preload" href="/eb7272c8.5cce044c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top navbarHideable_OaSq"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="TaroX Logo"><strong class="navbar__title">TaroX</strong></a><a class="navbar__item navbar__link" href="/docs/ui/README">UI</a><a class="navbar__item navbar__link" href="/docs/hooks/README">Hooks</a><a class="navbar__item navbar__link" href="/docs/library/README">Library</a><a class="navbar__item navbar__link" href="/docs/polyfill/README">Polyfill</a><a class="navbar__item navbar__link" href="/docs/history/README">History</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/tarojsx" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link octicon-mark-github"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="TaroX Logo"><strong class="navbar__title">TaroX</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/ui/README">UI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/hooks/README">Hooks</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/library/README">Library</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/polyfill/README">Polyfill</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/history/README">History</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">博客</a></li><li class="menu__list-item"><a href="https://github.com/tarojsx" target="_blank" rel="noopener noreferrer" class="menu__link octicon-mark-github"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_2RZH">React 时间简史</h1><div class="margin-vert--md"><time datetime="2020-06-24T00:00:00.000Z" class="blogPostDate_3tRe">June 24, 2020  · 3 min read</time></div><div class="avatar margin-vert--md"><a class="avatar__photo-link avatar__photo" href="https://github.com/cncolder" target="_blank" rel="noreferrer noopener"><img src="https://avatars1.githubusercontent.com/u/127009" alt="Colder"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/cncolder" target="_blank" rel="noreferrer noopener">Colder</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p><img src="/img/undraw_JavaScript_frameworks.svg" alt="Frameworks"></p><p>React 的出现为前端构建友好的用户界面提供了广阔的机遇。</p><p>为了能更好的理解 React，让我们回顾一下前端的发展历程。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="索引"></a>索引<a aria-hidden="true" tabindex="-1" class="hash-link" href="#索引" title="Direct link to heading">#</a></h2><ul><li><strong>React 时间简史</strong></li><li><a href="/blog/2020-06-25-what-is-react">什么是 React？</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="javascript-诞生记"></a>JavaScript 诞生记<a aria-hidden="true" tabindex="-1" class="hash-link" href="#javascript-诞生记" title="Direct link to heading">#</a></h2><p><img src="/img/undraw_static_website.svg" alt="Static website"></p><p>浏览器作为人们每天都会用到的工具，因为太过熟悉，以致于忘了它当初的作用。浏览器原本被设计成一款“阅读器”软件，它的目的是让人们可以阅读 HTML 文档（一种比纯文字更丰富的格式），更多的时候被用于加载远端的文档。初代的浏览器只要做好一件事：文字排版，就像这样<a href="https://kristopolous.github.io/BOOTSTRA.386">https://kristopolous.github.io/BOOTSTRA.386</a>。</p><p>曾经的 Web 服务器，只是把保存在硬盘上的 HTML 文档输出给浏览器，这个过程是单向的，仅此而已。</p><p>直到有一天 <code>&lt;form&gt;</code> 表单出现了，此前的单向传输被打破，浏览器不再单纯的只是阅读，而是允许用户提交内容，服务器接收内容后引导浏览器跳转到一个新的页面展示提交的结果。这个新的页面可能是后端动态产生的，因此催生出了动态网站，内容不再是写死的静态 HTML 文件，而是根据数据拼接而成的。</p><p>技术总是在不断探索中前进的，既然服务器可以动态产生内容，那浏览器为什么不能动态修改内容呢？于是就有了 <a href="http://speakingjs.com/es5/ch04.html">Eich 花 10 天写出 JavaScript</a> 的故事，当年的另一个选择是嵌入 Java，可是 Java 太慢了。有了 JavaScript 只是个开始，只能做算术题的脚本语言显然没什么用，浏览器需要向 JavaScript 开放一些 <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model" target="_blank" rel="noopener noreferrer">API</a>，这样 JavaScript 才能真正做点什么，例如验证用户在表单里输入的电话号码必须带区号。</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_U1PS">摘自某个比我们年纪还大的网站</div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj undefined">Copy</button><div tabindex="0" class="prism-code language-html codeBlock_19pQ codeBlockWithTitle_2fj3"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">form</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">onsubmit</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">javascript: alert(&#x27;提交成功！&#x27;);</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">button</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">type</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">submit</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">提交</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">button</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">form</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></div></div></div></div></div><p>此时的 JavaScript 只是网站管理员随手写的一些脚本，甚至不能算作编程语言，因为它能做的事情还是太少了，应付一些简单的用户交互，也有人尝试着实现一些动画效果，就像这样（<strong>护眼警告</strong>）<a href="http://divshot.github.com/geo-bootstrap" target="_blank" rel="noopener noreferrer">http://divshot.github.com/geo-bootstrap</a>。</p><blockquote><p>如果说此时的服务端是打地基盖房子的泥水匠，那 JavaScript 就像个木匠，安窗户，安门板。</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="javascript-蜕变之路"></a>JavaScript 蜕变之路<a aria-hidden="true" tabindex="-1" class="hash-link" href="#javascript-蜕变之路" title="Direct link to heading">#</a></h2><p><img src="/img/undraw_just_browsing.svg" alt="Internet"></p><p>作为 JavaScript 的宿主 —— 浏览器，它的作用是下载网络资源。</p><blockquote><p>JavaScript 深思片刻说：“你行，为什么我不行？”</p></blockquote><p>于是催生出 XMLHttpRequest，这个在今天看起来名字有点怪异的技术，因为它的发明者（微软）通过它传输 XML 文件。不久后出现了 AJAX（异步的 JavaScript 与 XML 技术） 这一概念。</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_U1PS">读取 HTML 片段插入到页面中</div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj undefined">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ codeBlockWithTitle_2fj3"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> xhr </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">XMLHttpRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">xhr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method-variable function-variable method function property-access" style="color:#d73a49">onreadystatechange</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">readyState</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">status</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;demo&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">innerHTML</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> xhr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">responseText</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// 注意第 3 个参数 `true`，很多初学者梦寐以求的同步读取，网速太慢浏览器会失去响应。</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">xhr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">open</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;GET&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;一个网址，返回文本或 HTML&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">xhr</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div></div></div><p>AJAX 的出现使得 JavaScript 脱胎换骨，一夜走红，人们开始重新审视这个 Script girl。动态网站现在只需要获取一小块数据，修改网页里的部分内容，就能把新的结果展示在用户面前，服务器的压力减轻了，用户体验也得到了质的飞跃，这个时代的巅峰之作是 Google 的 Gmail，一个不用刷新页面就能收发邮件的网站“应用”。</p><blockquote><p>世界上最遥远的距离不是爱与恨，而是我已升级 Chrome，你却还在用 IE。</p></blockquote><p>随着技术的不断发展，人们很快发现阻碍 JavaScript 发展的拌脚石竟然是孵化它的浏览器，此时的网站管理员手里都或多或少的保存着一份 JavaScript 代码清单，里面有关于不同品牌浏览器的兼容代码，缺乏经验的人会写出只能在 IE 里运行的代码，直到 jQuery 的出现才结束了这场灾难。</p><p>jQuery 是一把瑞士军刀，日常所需的功能它都有提供，从 DOM 维护，到 class 切换，从数据获取，到事件监听，一把唆。此时的网站变的与以往大不相同，浏览器只要从服务器上下载一份 .js 文件放进一个空白页面里，jQuery 就可以轻松的从 0 开始读取数据其他加载其他 .js .css 文件并组装出一个完整的网站，从此诞生了一种新的职业：<strong>Web 前端</strong>。</p><p>Web 前端可以独挡一面，只要有基础（Page）和材料（Data），就可以打造出一款游戏。</p><blockquote><p>此时的服务端只要提供砂子、砖和水泥，剩下的事情就都交给 jQuery 这个工头以及一众小弟吧。</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="web-框架的由来"></a>Web 框架的由来<a aria-hidden="true" tabindex="-1" class="hash-link" href="#web-框架的由来" title="Direct link to heading">#</a></h2><p><img src="/img/undraw_user_flow.svg" alt="Models and Views"></p><p>绝大部分网站主要是用于数据展示和交互，展示就是把已有的数据用 HTML 标签组织起来放在指定的位置，交互则是对用户操作做出响应，修改数据并维护 DOM 结构，页面经过一系列交互不断调整，状态也会不断的更新，如果这个过程比较复杂，多次操作后，由于事件和网络的延迟，页面会进入一种未知状态，类似薛定谔的猫，<em>“我要插入的位置准备好了吗？”</em></p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_U1PS">按钮你准备好了吗？</div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj undefined">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ codeBlockWithTitle_2fj3"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">$</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;button.continue&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">html</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;下一步...&#x27;</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div></div></div><p>为了解决这一问题，需要建立从数据 (Models) 到界面 (Views) 之间的稳定映射关系，同样的数据总会显示成同样的界面，而不是随着数据变化不停的操弄界面（迟早会被玩坏）。</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_U1PS">假设有一份数据</div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj undefined">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ codeBlockWithTitle_2fj3"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> data </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;React Hook 最佳实践&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;React 16.x 的规划&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;React Profiler 介绍&#x27;</span><span class="token punctuation" style="color:#393A34">]</span></div></div></div></div></div><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_U1PS">需要渲染成这样</div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj undefined">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ codeBlockWithTitle_2fj3"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">ul</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">li</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token maybe-class-name">Hook</span><span class="token plain"> 最佳实践</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">li</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">li</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16.</span><span class="token plain">x 的规划</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">li</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">li</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token maybe-class-name">React</span><span class="token plain"> </span><span class="token maybe-class-name">Profiler</span><span class="token plain"> 介绍</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">li</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">ul</span><span class="token operator" style="color:#393A34">&gt;</span></div></div></div></div></div><p>这种关系是稳定的，不管数据有多少，每当数据变化时，我们只需要再生成一次对应的界面替换掉就行了，生成的过程可以是简单的字符串拼接，也可以用模板，事实上 PHP 就是靠着模板引擎打出一片天地。区别是前端可以有选择的更新界面，而不是每次都把一切推倒重来。</p><p>这一领域的鼻祖是 <a href="https://backbonejs.org">Backbone</a>，大名鼎鼎的 TodoMVC 也得给他老人家<a href="https://github.com/tastejs/todomvc/tree/master/examples/backbone" target="_blank" rel="noopener noreferrer">留个位子</a>。</p><blockquote><p>前端就是把后端做的工作搬到浏览器里，还说不是来抢饭碗的！</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="facebook-构建-react"></a>Facebook 构建 React<a aria-hidden="true" tabindex="-1" class="hash-link" href="#facebook-构建-react" title="Direct link to heading">#</a></h2><p><img src="/img/undraw_code_review.svg" alt="Facebook"></p><p>时间回到 2011 年，Facebook 开发者在代码维护上遇到问题，他们的广告应用不断增加新特性，同时又要保证速度（时间就是金钱），项目组成员越来越多，开发效率却越来越差，项目变得难以维护，界面面临如何处理级联更新的巨大难题，甚至威胁到了主程序的性能。</p><p>为了解决这一系列问题，2011 年 7 月 11 日，Jordan Walke 构建了一个原型 <a href="https://github.com/jordwalke/FaxJs" target="_blank" rel="noopener noreferrer">FaxJs</a>（React 的乳名），有人认为这一天是 React 的生日。</p><blockquote><p>如果你碰到为难你的 HR，不妨反问他一句：“你知道 React 的乳名吗？”</p></blockquote><p>2013 年 5 月 29 日，在 JS Conf（JavaScript 开发者大会）上，Jordan Walke 首次对外公开了 React。<em>有趣的是：在场听众普遍认为这是技术上的倒退。</em></p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_U1PS">最早的 React Hello World</div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj undefined">Copy</button><div tabindex="0" class="prism-code language-jsx codeBlock_19pQ codeBlockWithTitle_2fj3"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> Hello </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">createClass</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">Hello </span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">name</span><span class="token punctuation" style="color:#393A34">}</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">div</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag class-name" style="color:#00009f">Hello</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">World</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">body</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div></div></div><p>不仔细看可能看不出区别：</p><ol><li>没有 class 组件，因为 JavaScript 还没有 class，也没有 Babel 帮忙编译。</li><li>没有 ReactDOM，最初二者是在一个包里的。</li><li>值得一提的是第一版 React 就已经具备 JSX 了。</li></ol><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="facebook-为什么要构建-react？"></a>Facebook 为什么要构建 React？<a aria-hidden="true" tabindex="-1" class="hash-link" href="#facebook-为什么要构建-react？" title="Direct link to heading">#</a></h2><p><img src="/img/undraw_JavaScript_frameworks.svg" alt="Frameworks"></p><p><strong>同样是从数据到界面，Facebook 为什么要构建 React？它又有哪些特别之处呢？</strong></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="react-不是一个-mvc-框架。"></a>React 不是一个 MVC 框架。<a aria-hidden="true" tabindex="-1" class="hash-link" href="#react-不是一个-mvc-框架。" title="Direct link to heading">#</a></h3><p>是的！你没有看错。在那个类 Backbone 的 MVC 框架大行其道的年代，React 居然站出来说我不是 MVC 框架。</p><blockquote><p>React 是一个用于构建可组合用户界面的库。</p></blockquote><p>对于用户来说，一个 React Web 项目，唯一可见的与 DOM 相关的代码只有一行：</p><div class="mdxCodeBlock_iHAB"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_U1PS">react-dom 把 React 组件嵌入 DOM</div><div class="codeBlockContent_32p_"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj undefined">Copy</button><div tabindex="0" class="prism-code language-js codeBlock_19pQ codeBlockWithTitle_2fj3"><div class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token maybe-class-name">ReactDOM</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">app</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token dom variable" style="color:#36acaa">document</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getElementById</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;root&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span></div></div></div></div></div><p>而这仅有的一行代码本质上也不是由 React 完成的。</p><p>React 所做的工作是用 JavaScript 描述数据 &quot;M&quot; 和界面 &quot;V&quot; 之间的关系。</p><p><code>Component = (Data) =&gt; &lt;View /&gt;</code></p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="react-不使用模板。"></a>React 不使用模板。<a aria-hidden="true" tabindex="-1" class="hash-link" href="#react-不使用模板。" title="Direct link to heading">#</a></h3><p>React 使用 JavaScript 来写界面，即使 JSX 与 HTML 很相似，但本质上 JSX 最终会编译成 JavaScript。</p><p>再强大的 HTML 模板，再复杂的指令，对比 JavaScript 来说也是个弟弟。</p><p><code>render</code> 返回的数据既不是一串字符串也不是一个 DOM 节点 —— 而是一种表示 DOM 应该是什么样子的轻量化描述。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="html-只是开始。"></a>HTML 只是开始。<a aria-hidden="true" tabindex="-1" class="hash-link" href="#html-只是开始。" title="Direct link to heading">#</a></h3><p>React 不使用模板拼接 HTML，所以 React 可以做的事情不仅限于浏览器内。</p><ul><li>通过 <code>react-native</code> 驱动手机底层视图。</li><li>在<a href="https://nextjs.org">服务器上</a>提前渲染以获得更好的性能。</li><li>开发<a href="https://github.com/vadimdemedes/ink" target="_blank" rel="noopener noreferrer">命令行</a>程序。</li><li>使用 React 控制音乐喷泉。</li><li>...</li></ul><hr><p>是的，只是一个开始，接下来请思考一下： <a href="/blog/2020-06-25-what-is-react">什么是 React？</a></p></section><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/java-script">JavaScript</a><a class="margin-horiz--sm" href="/blog/tags/ajax">AJAX</a><a class="margin-horiz--sm" href="/blog/tags/framework">Framework</a><a class="margin-horiz--sm" href="/blog/tags/react">React</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2020-06-25-what-is-react"><div class="pagination-nav__sublabel">Previous Post</div><div class="pagination-nav__label">« 什么是 React？</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2020-06-08-taro3-virtual-list"><div class="pagination-nav__sublabel">Next Post</div><div class="pagination-nav__label">Taro3 探索 - 虚拟列表 react-window »</div></a></div></nav></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">文档</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/ui/README">重新发明的 UI</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/hooks/README">必备 Hooks</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/library/README">第三方 Library</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/polyfill/README">运行时补丁 Polyfill</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/history/README">History API</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">社区</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">博客</a></li><li class="footer__item"><a href="https://github.com/tarojsx" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">资源</h4><ul class="footer__items"><li class="footer__item"><a href="https://tarojsx.gitee.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">国内镜像站点 🇨🇳</a></li><li class="footer__item"><a href="https://tarojsx.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">海外站点 🌏</a></li></ul></div></div><div class="text--center"><div>Copyright © 2019-2020 TaroX org. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.088cfec4.js"></script>
<script src="/runtime~main.4349dcc8.js"></script>
<script src="/main.556369d5.js"></script>
<script src="/3.9752c933.js"></script>
<script src="/4.72d3c8a6.js"></script>
<script src="/5.77d0b82f.js"></script>
<script src="/ccc49370.b0faf68c.js"></script>
<script src="/eb7272c8.5cce044c.js"></script>
</body>
</html>