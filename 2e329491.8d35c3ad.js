(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{726:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return h})),a.d(t,"metadata",(function(){return v})),a.d(t,"rightToc",(function(){return j})),a.d(t,"default",(function(){return y}));var n=a(1),r=a(21),c=a(0),i=a(732),o=a(141),s=a.n(o),l=a(1063),u=a.n(l),m=a(929),d=a(740),f=a(884);var b=a(866),g=a(730),p=a(745),h={id:"react-use-gesture",title:"react-use-gesture",sidebar_label:"react-use-gesture"},v={id:"library/docs/react-use-gesture",isDocsHomePage:!1,title:"react-use-gesture",description:"react-use-gesture",source:"@site/docs/library/docs/react-use-gesture.mdx",permalink:"/docs/library/docs/react-use-gesture",sidebar_label:"react-use-gesture",sidebar:"Library",previous:{title:"react-spring",permalink:"/docs/library/docs/react-spring"}},j=[{value:"react-use-gesture",id:"react-use-gesture",children:[{value:"\u9700\u6c42",id:"\u9700\u6c42",children:[]},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",children:[]}]}],w={rightToc:j};function y(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},w,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"react-use-gesture"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{href:"https://github.com/react-spring/react-use-gesture"}),"react-use-gesture")),Object(i.b)("h3",{id:"\u9700\u6c42"},"\u9700\u6c42"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"requestAnimationFrame"))),Object(i.b)("h3",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"import React from 'react'\nimport { View } from '@tarojs/components'\nimport { useDrag } from 'react-use-gesture'\nimport { useGestureConfig } from '@tarojsx/library/dist/react-use-gesture'\n\nconst Demo = () => {\n    const [gestureConfig, containerProps] = useGestureConfig()\n\n    const bind = useDrag(({ down, movement: [mx, my], direction: [xDir, yDir], distance, cancel }) => {\n        console.log('\u6309\u4e0b', down)\n        console.log('\u8f74\u79fb\u52a8\u8ddd\u79bb', mx, my)\n        console.log('\u8f74\u79fb\u52a8\u65b9\u5411', xDir, yDir)\n        console.log('\u76f4\u7ebf\u79fb\u52a8\u8ddd\u79bb', distance)\n        console.log('\u53d6\u6d88\u62d6\u52a8\u64cd\u4f5c', cancel)\n    }, gestureConfig)\n\n    return <View {...containerProps}>{<View {...bind()} />}</View>\n}\n")),Object(i.b)(p.a,{phone:!0,title:"Gesture",mdxType:"UI"},(function(){var e=Object(c.useMemo)((function(){return s.a.getSystemInfoSync()}),[]).windowWidth,t=Object(c.useMemo)((function(){return["https://img11.360buyimg.com/uba/jfs/t21205/91/853520716/145629/b03d7fa7/5b19f383N6a30536b.jpg","https://img14.360buyimg.com/ling/jfs/t1/103557/3/12087/1051626/5e44b357E4cab8765/d8c821c4a3e1060d.png","https://storage.360buyimg.com/taro-club-img/b42116392c909d0680788853011c70db","https://storage.jd.com/taro-resource/review.jpg","https://misc.aotu.io/jimczj/2018-08-27taro-ui.jpg","https://img10.360buyimg.com/img/jfs/t1/21860/12/8740/42390/5c790470E1d0bbce9/9f9bb78d01f7564b.png"]}),[]),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=void 0===t?Object(f.a)():t,n=e.ref,r=void 0===n?function(){}:n,i=Object(c.useState)(),o=Object(d.a)(i,2),s=o[0],l=o[1],u={window:s},m={id:a,ref:function(e){e&&(l(e),r(e))}};return[u,m]}(),r=a[0],o=a[1],l=Object(c.useRef)(0),p=Object(b.useSprings)(t.length,(function(t){return{x:2*t*e,sc:1,display:"block"}})),h=p[0],v=p[1],j=Object(m.a)((function(a){var n=a.down,r=a.direction[0],c=a.distance,i=a.cancel;console.log("useDrag","distance",c),n&&c>e/2&&(l.current=u()(l.current+(r>0?-1:1),0,t.length-1),i()),v((function(t){return t<l.current-1||t>l.current+1?{display:"none"}:{x:2*(t-l.current)*e+(n?r*c:0),sc:n?1-c/e/2:1,display:"block"}}))}),r);return Object(i.b)(g.m,Object(n.a)({},o,{mdxType:"View"}),Object(i.b)(g.m,{style:{textAlign:"center",fontSize:"40px"},mdxType:"View"},"\u2b05 \u62d6\u62fd\u56fe\u7247 \u27a1"),h.map((function(e,a){var r=e.x,c=e.display,o=e.sc;return Object(i.b)(b.animated.View,Object(n.a)({},j(),{key:a,style:{position:"absolute",display:c,width:"750px",height:"750px",transform:r.interpolate((function(e){return"translate3d("+e+"px,0,0)"}))}}),Object(i.b)(b.animated.View,{style:{height:"100%",transform:o.interpolate((function(e){return"scale("+e+")"})),background:"center / contain no-repeat url("+t[a]+")"}}))})))})))}y.isMDXComponent=!0},743:function(e,t,a){},744:function(e,t,a){e.exports={ui:"ui_126w",block:"block_Tka-",content:"content_2Qgg"}},745:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(733),r=a(1),c=a(781),i=a(782),o=a(0),s=a.n(o),l=a(741),u=a.n(l),m=a(742),d=a(740);const f=()=>{const e=new Date,t=e=>e.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}`},b=e=>{const{className:t,title:a="",frontColor:n="#ffffff",backgroundColor:r="#000000",back:c=!1,time:i=""}=e,l="#ffffff"===n.toLowerCase(),u="miniprogramNavigationStatusBarTime";return Object(o.useEffect)(()=>{const e=!i&&setInterval(()=>{try{document.getElementById(u).innerHTML=f()}catch(e){}},500);return()=>clearInterval(e)},[i]),s.a.createElement("svg",{className:t,width:"750",height:"176",xmlns:"http://www.w3.org/2000/svg"},s.a.createElement("g",{fill:"none",fillRule:"evenodd"},s.a.createElement("path",{d:"M0 0h750v176H0z",fill:r,fillOpacity:".9"}),s.a.createElement("path",{d:"M0 175h750v1H0z",fill:"#000",fillOpacity:".1"}),s.a.createElement("g",{fill:n,fontFamily:"Helvetica",fontSize:"30",fontWeight:"bold"},s.a.createElement("text",{transform:"translate(42 28)"},s.a.createElement("tspan",{id:u,x:"26.006",y:"29.66"},i||f()))),s.a.createElement("path",{d:"M680.085 38.667h29.163c1.189 0 1.62.123 2.054.356.435.232.776.573 1.008 1.008.233.434.357.865.357 2.054v7.83c0 1.189-.124 1.62-.357 2.054a2.423 2.423 0 01-1.008 1.008c-.434.233-.865.356-2.054.356h-29.163c-1.189 0-1.62-.123-2.054-.356a2.423 2.423 0 01-1.008-1.008c-.233-.434-.356-.865-.356-2.054v-7.83c0-1.189.123-1.62.356-2.054a2.423 2.423 0 011.008-1.008c.434-.233.865-.356 2.054-.356zM647.334 39.23c4.45 0 8.729 1.709 11.954 4.772a.619.619 0 00.87-.007l2.321-2.34a.645.645 0 00-.005-.915c-8.464-8.105-21.817-8.105-30.28 0a.645.645 0 00-.007.915l2.322 2.34c.24.24.628.244.87.007a17.359 17.359 0 0111.955-4.772zm0 7.615c2.445 0 4.802.908 6.614 2.548a.624.624 0 00.87-.012l2.32-2.34a.647.647 0 00-.01-.921c-5.519-5.129-14.064-5.129-19.583 0a.646.646 0 00-.008.92l2.317 2.341a.624.624 0 00.87.012 9.858 9.858 0 016.61-2.548zm4.456 5.587a.63.63 0 00-.019-.917 6.875 6.875 0 00-8.874 0 .63.63 0 00-.02.917l4.012 4.044a.626.626 0 00.89 0l4.01-4.044zM590 48.667h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2v-4a2 2 0 012-2zm9.333-4h2a2 2 0 012 2v8a2 2 0 01-2 2h-2a2 2 0 01-2-2v-8a2 2 0 012-2zM608.667 40h2a2 2 0 012 2v12.667a2 2 0 01-2 2h-2a2 2 0 01-2-2V42a2 2 0 012-2zM618 35.333h2a2 2 0 012 2v17.334a2 2 0 01-2 2h-2a2 2 0 01-2-2V37.333a2 2 0 012-2z",fill:n,fillRule:"nonzero"}),s.a.createElement("path",{d:"M709.83 35.667h-30.326c-2.095 0-2.868.182-3.637.594a3.86 3.86 0 00-1.606 1.606c-.412.77-.594 1.543-.594 3.637v8.992c0 2.094.182 2.868.594 3.637a3.86 3.86 0 001.606 1.606c.769.412 1.542.594 3.637.594h30.326c2.094 0 2.867-.182 3.637-.594a3.86 3.86 0 001.605-1.606c.412-.77.595-1.543.595-3.637v-8.992c0-2.094-.183-2.868-.595-3.637a3.86 3.86 0 00-1.605-1.606c-.77-.412-1.543-.594-3.637-.594z",stroke:n,strokeWidth:"2",opacity:".35"}),s.a.createElement("path",{d:"M718.667 42v8a4.34 4.34 0 000-8",fill:n,fillRule:"nonzero",opacity:".4"}),!!c&&s.a.createElement("path",{d:"M52 146.875L49.91 149l-15.331-15.58a2.031 2.031 0 010-2.84L49.909 115 52 117.125 37.363 132 52 146.875z",fill:n,fillOpacity:"0.9"}),s.a.createElement("text",{transform:"translate(375 144)",fill:n,textAnchor:"middle",fontFamily:"PingFangSC-Regular, PingFang SC",fontSize:"34",fontWeight:"bold",opacity:".9"},a),s.a.createElement("g",{transform:"translate(564 100)"},s.a.createElement("rect",{strokeOpacity:".201",stroke:"#979797",fillOpacity:".597",fill:l?"rgba(0,0,0,.25)":"#fff",x:".5",y:".5",width:"173",height:"63",rx:"31.5"}),s.a.createElement("path",{d:"M45.5 26a6.5 6.5 0 110 13 6.5 6.5 0 010-13zM31 29a4 4 0 110 8 4 4 0 010-8zm29 0a4 4 0 110 8 4 4 0 010-8z",fill:n}),s.a.createElement("path",{fillOpacity:".199",fill:n,d:"M87 13h1v37h-1z"}),s.a.createElement("path",{d:"M130.819 14.667c8.903 0 16.514 7.61 16.514 16.514 0 9.875-7.61 17.486-16.514 17.486-9.875 0-17.486-7.611-17.486-17.486 0-8.903 7.611-16.514 17.486-16.514zm-.004 4c-7.661 0-13.482 5.82-13.482 13.481 0 6.698 5.82 12.519 13.482 12.519 6.698 0 12.518-5.82 12.518-12.519 0-7.661-5.82-13.481-12.518-13.481zm-.482 7a6 6 0 110 12 6 6 0 010-12z",fill:n}))))};a(743);const g=e=>{const{className:t,style:a,frontColor:n="#ffffff",backgroundColor:c="#6190E8",...i}=e;return s.a.createElement("div",{className:u()("phone",t),style:a},s.a.createElement("div",{className:"marvel-device iphone-x"},s.a.createElement("div",{className:"notch"},s.a.createElement("div",{className:"camera"}),s.a.createElement("div",{className:"speaker"})),s.a.createElement("div",{className:"top-bar"}),s.a.createElement("div",{className:"sleep"}),s.a.createElement("div",{className:"bottom-bar"}),s.a.createElement("div",{className:"volume"}),s.a.createElement("div",{className:"overflow"},s.a.createElement("div",{className:"shadow shadow--tr"}),s.a.createElement("div",{className:"shadow shadow--tl"}),s.a.createElement("div",{className:"shadow shadow--br"}),s.a.createElement("div",{className:"shadow shadow--bl"})),s.a.createElement("div",{className:"inner-shadow"}),s.a.createElement("div",{className:"screen"},s.a.createElement(b,Object(r.a)({className:"miniprogram-navigation",frontColor:n,backgroundColor:c},i)),s.a.createElement("div",{className:"content"},Object(m.render)(e,{isPhone:!0})))))};var p=a(744),h=a.n(p),v=function(e){var t=e.className,a=e.style,l=void 0===a?{}:a,f=e.block,b=e.phone,p=Object(i.a)(e,["className","style","block","phone"]),v=function(){var e=Object(o.useState)("40px"),t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(o.useEffect)((function(){if("undefined"!=typeof window){var e=function(){var e=window.document.documentElement.getBoundingClientRect().width;n(e>=640?"40px":e<=320?"20px":e/320*20+"px")};return window.addEventListener("resize",e),window.removeEventListener("resize",e)}}),[]),a}();return b?s.a.createElement(g,Object(r.a)({className:t,style:Object(c.a)({fontSize:v},l)},p)):s.a.createElement("div",{className:u()(h.a.ui,Object(n.a)({},h.a.block,f),t),style:Object(c.a)({fontSize:v},l)},s.a.createElement("div",{className:h.a.content},Object(m.render)(e,{isBlock:f})))}},828:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(902);for(var n=a(863),r=a(914),c={View:n.d,Text:n.c,Image:n.b},i=r.animated,o=0,s=Object.keys(c);o<s.length;o++){var l=s[o],u=c[l];i[l]=i(u)}},866:function(e,t,a){"use strict";var n=a(810);a.o(n,"animated")&&a.d(t,"animated",(function(){return n.animated})),a.o(n,"useSpring")&&a.d(t,"useSpring",(function(){return n.useSpring})),a.o(n,"useSprings")&&a.d(t,"useSprings",(function(){return n.useSprings}));var r=a(828);a.d(t,"animated",(function(){return r.a}))},884:function(e,t,a){"use strict";function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[],c=0;if(a=a||n.length,t)for(c=0;c<t;c++)r[c]=n[0|Math.random()*a];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",c=0;c<36;c++)r[c]||(e=0|16*Math.random(),r[c]=n[19===c?3&e|8:e]);return r.join("")}a.d(t,"a",(function(){return n}))}}]);