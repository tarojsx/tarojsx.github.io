(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{492:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return j})),a.d(t,"metadata",(function(){return O})),a.d(t,"rightToc",(function(){return h})),a.d(t,"default",(function(){return N}));var n=a(1),r=a(15),c=a(0),i=a(498),l=a(84),o=a.n(l),s=a(830),b=a.n(s),u=a(696),m=a(506),d=a(650);var p=a(632),g=a(496),f=a(511),j={id:"react-use-gesture",title:"react-use-gesture",sidebar_label:"react-use-gesture"},O={id:"library/docs/react-use-gesture",isDocsHomePage:!1,title:"react-use-gesture",description:"react-use-gesture",source:"@site/docs/library/docs/react-use-gesture.mdx",permalink:"/docs/library/docs/react-use-gesture",sidebar_label:"react-use-gesture",sidebar:"Library",previous:{title:"react-spring",permalink:"/docs/library/docs/react-spring"}},h=[{value:"react-use-gesture",id:"react-use-gesture",children:[{value:"\u9700\u6c42",id:"\u9700\u6c42",children:[]},{value:"\u4f7f\u7528",id:"\u4f7f\u7528",children:[]}]}],v={rightToc:h};function N(e){var t=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(n.a)({},v,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"react-use-gesture"},Object(i.b)("a",Object(n.a)({parentName:"h2"},{href:"https://github.com/react-spring/react-use-gesture"}),"react-use-gesture")),Object(i.b)("h3",{id:"\u9700\u6c42"},"\u9700\u6c42"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"requestAnimationFrame"))),Object(i.b)("h3",{id:"\u4f7f\u7528"},"\u4f7f\u7528"),Object(i.b)("pre",null,Object(i.b)("code",Object(n.a)({parentName:"pre"},{className:"language-jsx"}),"import React from 'react'\nimport { View } from '@tarojs/components'\nimport { useDrag } from 'react-use-gesture'\nimport { useGestureConfig } from '@tarojsx/library/dist/react-use-gesture'\n\nconst Demo = () => {\n    const [gestureConfig, containerProps] = useGestureConfig()\n\n    const bind = useDrag(({ down, movement: [mx, my], direction: [xDir, yDir], distance, cancel }) => {\n        console.log('\u6309\u4e0b', down)\n        console.log('\u8f74\u79fb\u52a8\u8ddd\u79bb', mx, my)\n        console.log('\u8f74\u79fb\u52a8\u65b9\u5411', xDir, yDir)\n        console.log('\u76f4\u7ebf\u79fb\u52a8\u8ddd\u79bb', distance)\n        console.log('\u53d6\u6d88\u62d6\u52a8\u64cd\u4f5c', cancel)\n    }, gestureConfig)\n\n    return <View {...containerProps}>{<View {...bind()} />}</View>\n}\n")),Object(i.b)(f.a,{phone:!0,title:"Gesture",mdxType:"UI"},(function(){var e=Object(c.useMemo)((function(){return o.a.getSystemInfoSync()}),[]).windowWidth,t=Object(c.useMemo)((function(){return["https://img11.360buyimg.com/uba/jfs/t21205/91/853520716/145629/b03d7fa7/5b19f383N6a30536b.jpg","https://img14.360buyimg.com/ling/jfs/t1/103557/3/12087/1051626/5e44b357E4cab8765/d8c821c4a3e1060d.png","https://storage.360buyimg.com/taro-club-img/b42116392c909d0680788853011c70db","https://storage.jd.com/taro-resource/review.jpg","https://misc.aotu.io/jimczj/2018-08-27taro-ui.jpg","https://img10.360buyimg.com/img/jfs/t1/21860/12/8740/42390/5c790470E1d0bbce9/9f9bb78d01f7564b.png"]}),[]),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,a=void 0===t?Object(d.a)():t,n=e.ref,r=void 0===n?function(){}:n,i=Object(c.useState)(),l=Object(m.a)(i,2),o=l[0],s=l[1],b={window:o},u={id:a,ref:function(e){e&&(s(e),r(e))}};return[b,u]}(),r=a[0],l=a[1],s=Object(c.useRef)(0),f=Object(p.useSprings)(t.length,(function(t){return{x:2*t*e,sc:1,display:"block"}})),j=f[0],O=f[1],h=Object(u.a)((function(a){var n=a.down,r=a.direction[0],c=a.distance,i=a.cancel;console.log("useDrag","distance",c),n&&c>e/2&&(s.current=b()(s.current+(r>0?-1:1),0,t.length-1),i()),O((function(t){return t<s.current-1||t>s.current+1?{display:"none"}:{x:2*(t-s.current)*e+(n?r*c:0),sc:n?1-c/e/2:1,display:"block"}}))}),r);return Object(i.b)(g.m,Object(n.a)({},l,{mdxType:"View"}),Object(i.b)(g.m,{style:{textAlign:"center",fontSize:"40px"},mdxType:"View"},"\u2b05 \u62d6\u62fd\u56fe\u7247 \u27a1"),j.map((function(e,a){var r=e.x,c=e.display,l=e.sc;return Object(i.b)(p.animated.View,Object(n.a)({},h(),{key:a,style:{position:"absolute",display:c,width:"750px",height:"750px",transform:r.interpolate((function(e){return"translate3d("+e+"px,0,0)"}))}}),Object(i.b)(p.animated.View,{style:{height:"100%",transform:l.interpolate((function(e){return"scale("+e+")"})),background:"center / contain no-repeat url("+t[a]+")"}}))})))})),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u53c2\u6570"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u9ed8\u8ba4\u503c"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"id?"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"\u5bb9\u5668\u5143\u7d20 ID"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"string"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"uuid")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"ref?"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"React ref"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null})),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u8fd4\u56de\u503c"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u8bf4\u660e"),Object(i.b)("th",Object(n.a)({parentName:"tr"},{align:null}),"\u7c7b\u578b"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"[0]"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"gestureConfig: \u4f20\u7ed9 ",Object(i.b)("inlineCode",{parentName:"td"},"react-use-gesture")," hooks \u7684\u914d\u7f6e"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"{}")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"[1]"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}),"containerProps: \u9700\u8981\u7ed1\u5b9a\u5728\u5bb9\u5668\u5143\u7d20\u4e0a\u7684\u5c5e\u6027"),Object(i.b)("td",Object(n.a)({parentName:"tr"},{align:null}))))))}N.isMDXComponent=!0},509:function(e,t,a){},510:function(e,t,a){e.exports={ui:"ui_126w",block:"block_Tka-",content:"content_2Qgg"}},511:function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(499),r=a(1),c=a(547),i=a(548),l=a(0),o=a.n(l),s=a(507),b=a.n(s),u=a(508),m=a(506);const d=()=>{const e=new Date,t=e=>e.toString().padStart(2,"0");return`${t(e.getHours())}:${t(e.getMinutes())}`},p=e=>{const{className:t,title:a="",frontColor:n="#ffffff",backgroundColor:r="#000000",back:c=!1,time:i=""}=e,s="#ffffff"===n.toLowerCase(),b="miniprogramNavigationStatusBarTime";return Object(l.useEffect)(()=>{const e=!i&&setInterval(()=>{try{document.getElementById(b).innerHTML=d()}catch(e){}},500);return()=>clearInterval(e)},[i]),o.a.createElement("svg",{className:t,width:"750",height:"176",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("path",{d:"M0 0h750v176H0z",fill:r,fillOpacity:".9"}),o.a.createElement("path",{d:"M0 175h750v1H0z",fill:"#000",fillOpacity:".1"}),o.a.createElement("g",{fill:n,fontFamily:"Helvetica",fontSize:"30",fontWeight:"bold"},o.a.createElement("text",{transform:"translate(42 28)"},o.a.createElement("tspan",{id:b,x:"26.006",y:"29.66"},i||d()))),o.a.createElement("path",{d:"M680.085 38.667h29.163c1.189 0 1.62.123 2.054.356.435.232.776.573 1.008 1.008.233.434.357.865.357 2.054v7.83c0 1.189-.124 1.62-.357 2.054a2.423 2.423 0 01-1.008 1.008c-.434.233-.865.356-2.054.356h-29.163c-1.189 0-1.62-.123-2.054-.356a2.423 2.423 0 01-1.008-1.008c-.233-.434-.356-.865-.356-2.054v-7.83c0-1.189.123-1.62.356-2.054a2.423 2.423 0 011.008-1.008c.434-.233.865-.356 2.054-.356zM647.334 39.23c4.45 0 8.729 1.709 11.954 4.772a.619.619 0 00.87-.007l2.321-2.34a.645.645 0 00-.005-.915c-8.464-8.105-21.817-8.105-30.28 0a.645.645 0 00-.007.915l2.322 2.34c.24.24.628.244.87.007a17.359 17.359 0 0111.955-4.772zm0 7.615c2.445 0 4.802.908 6.614 2.548a.624.624 0 00.87-.012l2.32-2.34a.647.647 0 00-.01-.921c-5.519-5.129-14.064-5.129-19.583 0a.646.646 0 00-.008.92l2.317 2.341a.624.624 0 00.87.012 9.858 9.858 0 016.61-2.548zm4.456 5.587a.63.63 0 00-.019-.917 6.875 6.875 0 00-8.874 0 .63.63 0 00-.02.917l4.012 4.044a.626.626 0 00.89 0l4.01-4.044zM590 48.667h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2v-4a2 2 0 012-2zm9.333-4h2a2 2 0 012 2v8a2 2 0 01-2 2h-2a2 2 0 01-2-2v-8a2 2 0 012-2zM608.667 40h2a2 2 0 012 2v12.667a2 2 0 01-2 2h-2a2 2 0 01-2-2V42a2 2 0 012-2zM618 35.333h2a2 2 0 012 2v17.334a2 2 0 01-2 2h-2a2 2 0 01-2-2V37.333a2 2 0 012-2z",fill:n,fillRule:"nonzero"}),o.a.createElement("path",{d:"M709.83 35.667h-30.326c-2.095 0-2.868.182-3.637.594a3.86 3.86 0 00-1.606 1.606c-.412.77-.594 1.543-.594 3.637v8.992c0 2.094.182 2.868.594 3.637a3.86 3.86 0 001.606 1.606c.769.412 1.542.594 3.637.594h30.326c2.094 0 2.867-.182 3.637-.594a3.86 3.86 0 001.605-1.606c.412-.77.595-1.543.595-3.637v-8.992c0-2.094-.183-2.868-.595-3.637a3.86 3.86 0 00-1.605-1.606c-.77-.412-1.543-.594-3.637-.594z",stroke:n,strokeWidth:"2",opacity:".35"}),o.a.createElement("path",{d:"M718.667 42v8a4.34 4.34 0 000-8",fill:n,fillRule:"nonzero",opacity:".4"}),!!c&&o.a.createElement("path",{d:"M52 146.875L49.91 149l-15.331-15.58a2.031 2.031 0 010-2.84L49.909 115 52 117.125 37.363 132 52 146.875z",fill:n,fillOpacity:"0.9"}),o.a.createElement("text",{transform:"translate(375 144)",fill:n,textAnchor:"middle",fontFamily:"PingFangSC-Regular, PingFang SC",fontSize:"34",fontWeight:"bold",opacity:".9"},a),o.a.createElement("g",{transform:"translate(564 100)"},o.a.createElement("rect",{strokeOpacity:".201",stroke:"#979797",fillOpacity:".597",fill:s?"rgba(0,0,0,.25)":"#fff",x:".5",y:".5",width:"173",height:"63",rx:"31.5"}),o.a.createElement("path",{d:"M45.5 26a6.5 6.5 0 110 13 6.5 6.5 0 010-13zM31 29a4 4 0 110 8 4 4 0 010-8zm29 0a4 4 0 110 8 4 4 0 010-8z",fill:n}),o.a.createElement("path",{fillOpacity:".199",fill:n,d:"M87 13h1v37h-1z"}),o.a.createElement("path",{d:"M130.819 14.667c8.903 0 16.514 7.61 16.514 16.514 0 9.875-7.61 17.486-16.514 17.486-9.875 0-17.486-7.611-17.486-17.486 0-8.903 7.611-16.514 17.486-16.514zm-.004 4c-7.661 0-13.482 5.82-13.482 13.481 0 6.698 5.82 12.519 13.482 12.519 6.698 0 12.518-5.82 12.518-12.519 0-7.661-5.82-13.481-12.518-13.481zm-.482 7a6 6 0 110 12 6 6 0 010-12z",fill:n}))))};a(509);const g=e=>{const{className:t,style:a,frontColor:n="#ffffff",backgroundColor:c="#6190E8",...i}=e;return o.a.createElement("div",{className:b()("phone",t),style:a},o.a.createElement("div",{className:"marvel-device iphone-x"},o.a.createElement("div",{className:"notch"},o.a.createElement("div",{className:"camera"}),o.a.createElement("div",{className:"speaker"})),o.a.createElement("div",{className:"top-bar"}),o.a.createElement("div",{className:"sleep"}),o.a.createElement("div",{className:"bottom-bar"}),o.a.createElement("div",{className:"volume"}),o.a.createElement("div",{className:"overflow"},o.a.createElement("div",{className:"shadow shadow--tr"}),o.a.createElement("div",{className:"shadow shadow--tl"}),o.a.createElement("div",{className:"shadow shadow--br"}),o.a.createElement("div",{className:"shadow shadow--bl"})),o.a.createElement("div",{className:"inner-shadow"}),o.a.createElement("div",{className:"screen"},o.a.createElement(p,Object(r.a)({className:"miniprogram-navigation",frontColor:n,backgroundColor:c},i)),o.a.createElement("div",{className:"content"},Object(u.render)(e,{isPhone:!0})))))};var f=a(510),j=a.n(f),O=function(e){var t=e.className,a=e.style,s=void 0===a?{}:a,d=e.block,p=e.phone,f=Object(i.a)(e,["className","style","block","phone"]),O=function(){var e=Object(l.useState)("40px"),t=Object(m.a)(e,2),a=t[0],n=t[1];return Object(l.useEffect)((function(){if("undefined"!=typeof window){var e=function(){var e=window.document.documentElement.getBoundingClientRect().width;n(e>=640?"40px":e<=320?"20px":e/320*20+"px")};return window.addEventListener("resize",e),window.removeEventListener("resize",e)}}),[]),a}();return p?o.a.createElement(g,Object(r.a)({className:t,style:Object(c.a)({fontSize:O},s)},f)):o.a.createElement("div",{className:b()(j.a.ui,Object(n.a)({},j.a.block,d),t),style:Object(c.a)({fontSize:O},s)},o.a.createElement("div",{className:j.a.content},Object(u.render)(e,{isBlock:d})))}},594:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a(668);for(var n=a(629),r=a(680),c={View:n.d,Text:n.c,Image:n.b},i=r.animated,l=0,o=Object.keys(c);l<o.length;l++){var s=o[l],b=c[s];i[s]=i(b)}r.Globals.assign({willAdvance:function(){}})},632:function(e,t,a){"use strict";var n=a(576);a.o(n,"animated")&&a.d(t,"animated",(function(){return n.animated})),a.o(n,"useSpring")&&a.d(t,"useSpring",(function(){return n.useSpring})),a.o(n,"useSprings")&&a.d(t,"useSprings",(function(){return n.useSprings}));var r=a(594);a.d(t,"animated",(function(){return r.a}))},650:function(e,t,a){"use strict";function n(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=[],c=0;if(a=a||n.length,t)for(c=0;c<t;c++)r[c]=n[0|Math.random()*a];else for(r[8]=r[13]=r[18]=r[23]="-",r[14]="4",c=0;c<36;c++)r[c]||(e=0|16*Math.random(),r[c]=n[19===c?3&e|8:e]);return r.join("")}a.d(t,"a",(function(){return n}))}}]);